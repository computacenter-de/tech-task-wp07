apiVersion: v1
kind: ConfigMap
metadata:
  name: oc-casc-bundle
data:
  bundle.yaml: |
    apiVersion: "1"
    id: "jenkins"
    description: "Autogenerated bundle descriptor"
    version: "1"
    jcasc:
      - "jenkins.yaml"
    plugins:
      - "plugins.yaml"
    items:
      - "items.yaml"

  jenkins.yaml: |
    credentials:
      system:
        domainCredentials:
        - credentials:
          - usernamePassword:
              id: "918e0010-fd2a-4459-a504-b13f36ea5ea1"
              password: ${git-pwd}
              scope: GLOBAL
              username: "sps_openshift"
    jenkins:
      agentProtocols:
      - "Diagnostic-Ping"
      - "JNLP4-connect"
      - "OperationsCenter2"
      - "Ping"
      authorizationStrategy:
        loggedInUsersCanDoAnything:
          allowAnonymousRead: false
      crumbIssuer:
        standard:
          excludeClientIPFromCrumb: false
      disableRememberMe: false
      labelAtoms:
      - name: "built-in"
      markupFormatter: "plainText"
      mode: NORMAL
      myViewsTabBar: "standard"
      noUsageStatistics: true
      numExecutors: 2
      primaryView:
        masters:
          columns:
          - "status"
          - "weather"
          - "jobName"
          - "manageMaster"
          - "masterConfigurationStaleViewColumn"
          - "totalJobsViewColumn"
          - "queueSizeViewColumn"
          - "jenkinsVersionViewColumn"
          - "listSelectionColumn"
          jobFilters:
          - "connectedMasterViewFilter"
          name: "Controllers"
          recurse: true
      projectNamingStrategy: "standard"
      quietPeriod: 5
      remotingSecurity:
        enabled: true
      scmCheckoutRetryCount: 0
      securityRealm:
        activeDirectory:
          customDomain: true
          domains:
          - bindPassword: "{AQAAABAAAAAQjvEm+BzF+CvLx4pMu7yBGagvdmP7eYGzTk09pjWIMeQ=}"
            name: "bpe.local"
            tlsConfiguration: TRUST_ALL_CERTIFICATES
          groupLookupStrategy: AUTO
          removeIrrelevantGroups: false
          requireTLS: false
          startTls: false
      slaveAgentPort: 50000
      updateCenter:
        sites:
        - id: "core-oc-offline"
          url: "file:/tmp/jenkins/war/WEB-INF/plugins/update-center.json"
        - id: "cap-core-oc"
          url: "https://jenkins-updates.cloudbees.com/update-center/envelope-core-oc/update-center.json"
      views:
      - masters:
          columns:
          - "status"
          - "weather"
          - "jobName"
          - "manageMaster"
          - "masterConfigurationStaleViewColumn"
          - "totalJobsViewColumn"
          - "queueSizeViewColumn"
          - "jenkinsVersionViewColumn"
          - "listSelectionColumn"
          jobFilters:
          - "connectedMasterViewFilter"
          name: "Controllers"
          recurse: true
      - all:
          name: "all"
      viewsTabBar: "standard"
    beekeeper:
      enabled: true
      securityWarnings:
        enabledForCore: true
        enabledForPlugins: true
      upgrades:
        autoDowngradePlugins: false
        autoUpgradePlugins: true
    cloudBeesCasCServer:
      defaultBundle: "demo-bundle"
      disableRemoteValidation: false
      visibility: true
    license:
      certificate: "-----BEGIN CERTIFICATE-----\r\nMIIGeTCCBGGgAwIBAgIEANC/DzANBgkqhkiG9w0BAQsFADBKMQswCQYDVQQGEwJV\r\
        \nUzERMA8GA1UECAwIRGVsYXdhcmUxDjAMBgNVBAcMBUxld2VzMRgwFgYDVQQKDA9D\r\nbG91ZEJlZXMsIEluYy4wHhcNMjQwNzEyMDAwMDAwWhcNMjUwNzE4MjM1OTU5WjCC\r\
        \nAnUxETAPBgorBgEEAYKpfwEBEwEzMTAwLgYKKwYBBAGCqX8BAhMgMDFiYmU2NDlm\r\nYTUzYWU2NWEzMjAxNzc0MTc2Yzg0OGQxFTATBgsrBgEEAYKpfwELDhMEdHJ1ZTEV\r\
        \nMBMGCysGAQQBgql/AQsNEwR0cnVlMRUwEwYLKwYBBAGCqX8BCxATBHRydWUxFTAT\r\nBgsrBgEEAYKpfwELDxMEdHJ1ZTEVMBMGCysGAQQBgql/AQsKEwR0cnVlMRUwEwYL\r\
        \nKwYBBAGCqX8BCwwTBHRydWUxFTATBgsrBgEEAYKpfwELCxMEdHJ1ZTEVMBMGCysG\r\nAQQBgql/AQsREwR0cnVlMRUwEwYLKwYBBAGCqX8BCwcTBHRydWUxFTATBgsrBgEE\r\
        \nAYKpfwELBhMEdHJ1ZTEVMBMGCysGAQQBgql/AQsJEwR0cnVlMRUwEwYLKwYBBAGC\r\nqX8BCwgTBHRydWUxFTATBgsrBgEEAYKpfwELAxMEdHJ1ZTEVMBMGCysGAQQBgql/\r\
        \nAQsCEwR0cnVlMRUwEwYLKwYBBAGCqX8BCwUTBHRydWUxFTATBgsrBgEEAYKpfwEL\r\nBBMEdHJ1ZTEVMBMGCysGAQQBgql/AQsBEwR0cnVlMRUwEwYLKwYBBAGCqX8BCxQT\r\
        \nBHRydWUxFTATBgsrBgEEAYKpfwELFRMEdHJ1ZTETMBEGCisGAQQBgql/AQMTAzEw\r\nMDESMBAGCisGAQQBgql/AQ4TAjMwMRUwEwYKKwYBBAGCqX8BCRMFZmFsc2UxFjAU\r\
        \nBgNVBAMTDWNvbXB1dGFjZW50ZXIxCTAHBgNVBAsTADEWMBQGCysGAQQBgql/AQsY\r\nEwVmYWxzZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJi4PXfZ7zzI\r\
        \ngc3zUjL6L60++EC0wP7qIWmAB1eiO/xm7yOvex++aGHjJxAr3V52pEUZMHG0Hn9R\r\nb6jHP/J/bGXM2nv+fo8dtHbCE3KqyuLZxxvZ6p4lmEuSqif+Fwmq6vjJGjb5Mx7N\r\
        \nw+IEP8fzN1086YrXvwQ1jEyppB25qMM5ocnrNDQCP7XcAlZJpl1+ibkRpoxhAL4F\r\n6NIo+IdxVVX7IhUzXock1fInNX6tFPy3jeUfX5PONW4tiC6siXdXyNZhA5po3vwo\r\
        \nwUkxSuoRPxlTAFH3EZty63/fGF6EXwtehrZ8GDw6xRWv4Fe/lft83XyCcQZhYZbT\r\nnxuv6jpeh8kCAwEAAaM6MDgwDAYDVR0TBAUwAwEB/zAdBgNVHQ4EFgQU9QnH/8we\r\
        \ngJBtCF5mChiwenenb9AwCQYDVR0jBAIwADANBgkqhkiG9w0BAQsFAAOCAgEAfE2g\r\n3+iOMSsJg6JPiE9PI45xY+vWYgHeho6UbkpvlyYNK0LPaDwa0H0ARr0WZ0BAyaQT\r\
        \nSIr48nU2uvAWQTMixVGsP77jzLzmXGCZVhd3n4rUOU6X7G6VduFdwlXA8bl5hb/+\r\nCQqxuiu/cTNZ2h75S0kFGALNyDXmxrs+49M2gusKwie1gwIhDlwxopqDFG588tzK\r\
        \nRJOAAWVZkTkhWyO5PUZEnT/DSh409BkuJyGIaYMDVbe6nJlqXv+aydP7JKxYEi/k\r\n1+4pidE3JiTwXhKNbx2c0vlxrv7xSNqCSWQ32b4wYKsxRmTZdd01EeXxO8kLwSQy\r\
        \nB9XPAFWY6AAhdJEVcmV2qRBnOGHWq2Ax4+yyptMB4KSi4mouKh0KuJzgva0qTQLy\r\n+MUriB6edzxVVOtXApe3bCR9d5bg0VV+2PxKd2lO2LBNCQe9sArSYa4LrM+4QFkq\r\
        \nmL//YGxu55obWPMiSn9/u0xtFrAfdwht0x3cnv356PPqjceypQtlvtJTsO3iVN7d\r\nGAHlCpI3SbeHOWhaaoN8Q6jzbw6Bb8LgGn6M58KHVqxaMYY+yd0nb0z7L64rjHdV\r\
        \naMEGvZ7N9/neYFzXWPMFeU6BVVO6rI9JKdFu3vMWyU3h9rt58N+0mZPG3PwgDP8F\r\nwHe3JKLzv/VO+i0krzakQ9Kq1NW79BkejHhlBx4=\r\
        \n-----END CERTIFICATE-----"
      key: "-----BEGIN RSA PRIVATE KEY-----\r\nMIIEowIBAAKCAQEAmLg9d9nvPMiBzfNSMvovrT74QLTA/uohaYAHV6I7/GbvI697\r\
        \nH75oYeMnECvdXnakRRkwcbQef1FvqMc/8n9sZczae/5+jx20dsITcqrK4tnHG9nq\r\nniWYS5KqJ/4XCarq+MkaNvkzHs3D4gQ/x/M3XTzpite/BDWMTKmkHbmowzmhyes0\r\
        \nNAI/tdwCVkmmXX6JuRGmjGEAvgXo0ij4h3FVVfsiFTNehyTV8ic1fq0U/LeN5R9f\r\nk841bi2ILqyJd1fI1mEDmmje/CjBSTFK6hE/GVMAUfcRm3Lrf98YXoRfC16GtnwY\r\
        \nPDrFFa/gV7+V+3zdfIJxBmFhltOfG6/qOl6HyQIDAQABAoIBAGBmxF5YUlzjEJUJ\r\niBSnutq4SgrGTqFa95ZZ+8iEnyr3avLyvVzPW6KWubzKg6UybQU1HlBX63xg0oQO\r\
        \nqj4P00P7aNsmTYtXq+ffIFmcmA9UewwIpcIIZzclMIWoLbCrlEFQ6FxVN8C1EHYm\r\nSoCT9ZnEboN3JpuolZR67R7aaD46tEshpSRgmKPsC0J11k84a2dt43wvqMmsh5Sm\r\
        \nuGnm20vcExhE7pWP2ENpuGSq9EndtOiHl9rxsGSLTHOkMcPdrfzd+nEThZQ+B0x5\r\nhzFVvkPEtNVMXCLsBY05m51UiM2+3gcx6X43g2FYufn3SXz7l3WvJHLpJDiNeiLH\r\
        \nEqZY+CUCgYEAyXYqIIKTaN7T7ssPqNu05HQXmfySPgFBzbddALWRb2gnyETolaIu\r\nug2L4/fFB+JYJ/2PWeFsyrOy8e2bfSxIfS6uIy6s/Ei4nnl8CBebs3GWv2LxpZX5\r\
        \nKL8vuEZlApfOmzxQEF08ztYKELIJnmwY+cTfCZpHC6m8XDTu/YRLd3sCgYEAwhAh\r\nPXBI/fVnvR3AFX+RWpD6gFe5GI8/8uxrosPmY2vjtOCPjiJgbf2IbVQExvE1blgC\r\
        \n+NcvQ/0iSyke058H7rYDJFk053+NZYxOobNYYgrjo0uTt5V307zfRFP/qg/r88gL\r\ndtGTcl9hUwAIQt5zQ7UF7PanOMZ/M042hdE5eIsCgYAR6MFB9pmoHvb0KXUQ68ce\r\
        \n7/sRI1TU0kPJR92qrHlrT/UJZqbOdoZ037Np5qLLWqG/nFjcAqArPOJRg2/pJsCi\r\n8D1mv0V9f/F5lQ8joQWkZBqklOUqdTSbHLPfS9K68kfZoPj1G3TGZlyqs0kLnkxy\r\
        \nF8BEGETskoA+Ki58twAGdQKBgDor1ZryFp8xucgBq/uFws9wF/by1MQc5KFv5w/i\r\nQyRYSeiFS+LiQR+XWRbUkZ4E3exWq4VmE4AA2A/JorjyudD/dE+oAejG3l6rQULN\r\
        \nXNf+xZ/EXuIwBrxMqGx19XRH04W+2Fjkl5s4JhdYMiHBRrHsCHuwsA2fyq9ZaZSR\r\nU/XjAoGBAKzIZGmyvc1T9dQRI6Or2zwmTCQpkBfEgj6tZvJCT/PJPg5mbFL9pLd+\r\
        \nT6U87ZN+2xv3DS+gZfeo39V/h7qVV4fcvR1RL8McOP+4mHgN+sqeFQcwXdkUrAGk\r\nw/g4IP8eFrjW+LqtGNCJoiFMCjvw1a4R9KGkb5pRj01bEEJK9WqF\r\
        \n-----END RSA PRIVATE KEY-----"
    masterprovisioning:
      dockerImageDefinitionConfiguration:
        images:
        - imageTag: "cloudbees/cloudbees-core-mm:2.387.2.3"
          name: "CloudBees CI - Managed Controller - 2.387.2.3"
      kubernetes:
        clusterEndpoints:
        - id: "default"
          ingressClass: "nginx"
          jenkinsUrl: "http://cjoc.ci-cloudbees.svc.cluster.local/cjoc/"
          name: "kubernetes"
        cpus: "0.5"
        disk: 10
        envVars: "GIT_SSL_NO_VERIFY=true"
        globalJavaOptions: "-Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.PodTemplateStepExecution.defaultImage=cloudbees/cloudbees-core-agent:2.387.2.3\
          \ -Dcom.cloudbees.jenkins.plugins.kube.ServiceAccountFilter.defaultServiceAccount=jenkins-agents\
          \ -Dcom.cloudbees.networking.useSubdomain=false -Dcom.cloudbees.networking.protocol=\"\
          http\" -Dcom.cloudbees.networking.hostname=\"ci-cloudbees.apps.ccnap.bpe.local\"\
          \ -Dcom.cloudbees.networking.port=80 -Dcom.cloudbees.networking.operationsCenterName=\"\
          cjoc\""
        javaOptions: "-XshowSettings:vm -XX:+AlwaysPreTouch -XX:+UseG1GC -XX:+DisableExplicitGC\
          \ -XX:+ParallelRefProcEnabled -XX:+UseStringDeduplication -Dhudson.slaves.NodeProvisioner.initialDelay=0"
        livenessInitialDelaySeconds: 300
        livenessPeriodSeconds: 10
        livenessTimeoutSeconds: 10
        memory: 2000
        readinessFailureThreshold: 100
        readinessInitialDelaySeconds: 30
        readinessTimeoutSeconds: 5
        terminationGracePeriodSeconds: 1200
    support:
      automatedBundleConfiguration:
        componentIds:
        - "CloudBeesAssuranceSupport"
        - "AgentsConfigFile"
        - "ConfigFileComponent"
        - "OtherConfigFilesComponent"
        - "AboutBrowser"
        - "AboutJenkins"
        - "AboutUser"
        - "AdministrativeMonitors"
        - "AgentProtocols"
        - "BuildQueue"
        - "CustomLogs"
        - "DumpExportTable"
        - "EnvironmentVariables"
        - "FileDescriptorLimit"
        - "GCLogs"
        - "HeapUsageHistogram"
        - "ItemsContent"
        - "AgentsJVMProcessSystemMetricsContents"
        - "MasterJVMProcessSystemMetricsContents"
        - "JenkinsLogs"
        - "LoadStats"
        - "LoggerManager"
        - "Metrics"
        - "NetworkInterfaces"
        - "NodeMonitors"
        - "OtherLogs"
        - "ReverseProxy"
        - "RootCAs"
        - "RunningBuilds"
        - "SlaveCommandStatistics"
        - "SlaveLaunchLogs"
        - "SlaveLogs"
        - "AgentsSystemConfiguration"
        - "MasterSystemConfiguration"
        - "SystemProperties"
        - "TaskLogs"
        - "ThreadDumps"
        - "UpdateCenter"
        - "UserCount"
        - "ComponentImpl"
        - "SlowRequestComponent"
        - "HighLoadComponent"
        - "DeadlockRequestComponent"
        - "KubernetesMasterLogs"
        - "KubernetesMasterManifests"
        - "ConnectedMasterSupportComponent"
        enabled: true
        period: 1
    globalCredentialsConfiguration:
      configuration:
        providerFilter: "none"
        typeFilter: "none"
    security:
      anonymizeSupportBundle:
        enabled: false
      apiToken:
        creationOfLegacyTokenEnabled: false
        tokenGenerationOnCreationEnabled: false
        usageStatisticsEnabled: true
      sSHD:
        port: -1
      securitySettingsEnforcement:
        global:
          realmAndAuthorization:
            canCustomMapping: false
            canOverride: false
            defaultMappingFactory: "restrictedEquivalentRAMF"
    unclassified:
      buildDiscarders:
        configuredBuildDiscarders:
        - "jobBuildDiscarder"
      bundleStorageService:
          activated: true
          bundles:
          - name: "demo-bundle"
            retriever:
              localFolderRetriever:
                localFolder: "/var/casc"
          pollingPeriod: 120
          purgeOnDeactivation: false
      cascAutoControllerProvisioning:
        duration: 60
        fireAndForget: true
        initialDelay: 15
        provisionControllerOnCreation: true
        timeout: 600
      experimentalPlugins:
        enabled: false
      fingerprints:
        fingerprintCleanupDisabled: false
        storage: "file"
      location:
        adminAddress: "address not configured yet <nobody@nowhere>"
        url: "http://ci-cloudbees.apps.ccnap.bpe.local/cjoc/"
      mailer:
        charset: "UTF-8"
        useSsl: false
        useTls: false
      operationsCenterSharedConfiguration:
        enabled: false
      pollSCM:
        pollingThreadCount: 10
      usageStatisticsCloudBees:
        disabledJenkinsUsageStatistics: true
        usageStatisticsCollected: true
    tool:
      cloudbeesPluginUsageAnalyzer:
        enabled: true
      mavenGlobalConfig:
        globalSettingsProvider: "standard"
        settingsProvider: "standard"

  plugins.yaml: |
    plugins:
    - id: ace-editor
    - id: active-directory
    - id: antisamy-markup-formatter
    - id: apache-httpcomponents-client-4-api
    - id: authentication-tokens
    - id: aws-credentials
    - id: aws-java-sdk-ec2
    - id: aws-java-sdk-elasticbeanstalk
    - id: aws-java-sdk-minimal
    - id: blueocean-commons
    - id: blueocean-rest
    - id: bluesteel-cjoc
    - id: bouncycastle-api
    - id: caffeine-api
    - id: cloudbees-administrative-monitors
    - id: cloudbees-analytics
    - id: cloudbees-assurance
    - id: cloudbees-blueocean-default-theme
    - id: cloudbees-casc-client
    - id: cloudbees-casc-items-api
    - id: cloudbees-casc-items-commons
    - id: cloudbees-casc-items-server
    - id: cloudbees-casc-server
    - id: cloudbees-folder
    - id: cloudbees-folders-plus
    - id: cloudbees-jenkins-advisor
    - id: cloudbees-license
    - id: cloudbees-monitoring
    - id: cloudbees-platform-common
    - id: cloudbees-platform-data
    - id: cloudbees-plugin-usage
    - id: cloudbees-ssh-slaves
    - id: cloudbees-support
    - id: cloudbees-uc-data-api
    - id: cloudbees-unified-ui
    - id: cloudbees-update-center-plugin
    - id: command-launcher
    - id: commons-lang3-api
    - id: commons-text-api
    - id: configuration-as-code
    - id: credentials
    - id: credentials-binding
    - id: display-url-api
    - id: docker-commons
    - id: durable-task
    - id: git
    - id: git-client
    - id: handy-uri-templates-2-api
    - id: infradna-backup
    - id: instance-identity
    - id: ionicons-api
    - id: jackson2-api
    - id: jakarta-activation-api
    - id: jakarta-mail-api
    - id: javax-activation-api
    - id: javax-mail-api
    - id: jaxb
    - id: jdk-tool
    - id: jjwt-api
    - id: jquery3-api
    - id: kube-agent-management
    - id: kubernetes
    - id: kubernetes-client-api
    - id: kubernetes-credentials
    - id: ldap
    - id: mailer
    - id: mapdb-api
    - id: master-provisioning-core
    - id: master-provisioning-kubernetes
    - id: metrics
    - id: mina-sshd-api-common
    - id: mina-sshd-api-core
    - id: mina-sshd-api-scp
    - id: mina-sshd-api-sftp
    - id: nectar-license
    - id: nectar-rbac
    - id: node-iterator-api
    - id: oauth-credentials
    - id: okhttp-api
    - id: operations-center-agent
    - id: operations-center-clusterops
    - id: operations-center-context
    - id: operations-center-elasticsearch-provider
    - id: operations-center-jnlp-controller
    - id: operations-center-kubernetes-cloud
    - id: operations-center-license
    - id: operations-center-monitoring
    - id: operations-center-rbac
    - id: operations-center-server
    - id: operations-center-sso
    - id: operations-center-updatecenter
    - id: plain-credentials
    - id: pubsub-light
    - id: scm-api
    - id: script-security
    - id: snakeyaml-api
    - id: sse-gateway
    - id: ssh-credentials
    - id: sshd
    - id: structs
    - id: support-core
    - id: token-macro
    - id: trilead-api
    - id: unique-id
    - id: user-activity-monitoring
    - id: variant
    - id: workflow-api
    - id: workflow-durable-task-step
    - id: workflow-scm-step
    - id: workflow-step-api
    - id: workflow-support

  items.yaml: |
    removeStrategy:
      rbac: SYNC
      items: NONE
    items:
    - kind: managedController
      name: Controller 1
      configuration:
        kubernetes:
          allowExternalAgents: false
          terminationGracePeriodSeconds: 1200
          image: CloudBees CI - Managed Controller - 2.387.2.3
          memory: 2000
          cpus: 0.5
          readinessTimeoutSeconds: 5
          livenessInitialDelaySeconds: 300
          readinessInitialDelaySeconds: 30
          clusterEndpointId: default
          disk: 10
          readinessFailureThreshold: 100
          livenessTimeoutSeconds: 10
          domain: demo-controller
          livenessPeriodSeconds: 10
          javaOptions: -XshowSettings:vm -XX:+AlwaysPreTouch -XX:+UseG1GC -XX:+DisableExplicitGC
            -XX:+ParallelRefProcEnabled -XX:+UseStringDeduplication -Dhudson.slaves.NodeProvisioner.initialDelay=0
          yaml: ''
      description: ''
      displayName: Demo Controller
      properties:
      - configurationAsCode:
          bundle: demo-bundle
      - sharedHeaderLabelOptIn:
          optIn: true
      - healthReporting:
          enabled: true
      - owner:
          delay: 5
          owners: ''
      - envelopeExtension:
          allowExceptions: false
      - sharedConfigurationOptOut:
          optOut: false